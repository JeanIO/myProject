<h1>{{course.id ? '修改课程详情' : '新增课程详情'}}</h1>
<div class="row" >
    <div class="col-xs-12 col-sm-12 col-md-10">
        <div class="widget">
            <form novalidate role="form" id="myForm" name="courseForm" class="form-horizontal" ng-submit="courseForm.$valid && createCourse()" >
                <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">课程名称<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.name" name="name" id="name" class="form-control"
                               required ng-minlength="2" ng-maxlength="50"/>
                        <div ng-show="courseForm.name.$invalid && (courseForm.name.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.name.$error.required">课程名称是必填项</small>
                            <small class="error" ng-show="courseForm.name.$error.minlength">课程名称最小字符数是2</small>
                            <small class="error" ng-show="courseForm.name.$error.maxlength">课程名称最大字符数是50</small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="address" class="col-sm-2 control-label">上课地址<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.address" name="address" id="address" class="form-control"
                               required ng-minlength="2" ng-maxlength="50"/>
                        <div ng-show="courseForm.address.$invalid && (courseForm.address.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.address.$error.required">上课地址是必填项</small>
                            <small class="error" ng-show="courseForm.address.$error.minlength">上课地址最小字符数是2</small>
                            <small class="error" ng-show="courseForm.address.$error.maxlength">上课地址最大字数是50</small>
                        </div>
                    </div>
                </div> 

                <div class="form-group">
                    <label for="level" class="col-sm-2 control-label">课程等级<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.level" name="level" id="level" class="form-control"
                               required/>
                        <div ng-show="courseForm.level.$invalid && (courseForm.level.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.level.$error.required">课程等级是必填项</small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="selTeacher" class="col-sm-2 control-label">课程老师</label>
                    <div class="col-sm-8">
                        <select class="form-control" name="selTeacher" id="selTeacher" ng-model="course.teacher_id" ng-change="selectTeacher(course.teacher_id)"
                        ng-options="teacher.user_id as teacher.teacher_name for teacher in teachers"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="lessonType" class="col-sm-2 control-label">课程分类</label>
                    <div class="col-sm-8">
                        <select class="form-control" name="selTeacher" id="type" ng-model="course.type"
                                ng-options="type.id as type.type_name for type in lessonTypes"></select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="totle_price" class="col-sm-2 control-label">课程总价<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.totle_price" name="totle_price" id="totle_price" class="form-control"
                        required/>
                        <div ng-show="courseForm.totle_price.$invalid && (courseForm.totle_price.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.totle_price.$error.required">课程总价是必填项</small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="unit_price" class="col-sm-2 control-label">课时单价<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.unit_price" name="unit_price" id="unit_price" class="form-control"
                        required/>
                        <div ng-show="courseForm.unit_price.$invalid && (courseForm.unit_price.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.unit_price.$error.required">课时单价是必填项</small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="times" class="col-sm-2 control-label">课时数<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.times" name="times" id="times" class="form-control"
                               required/>
                        <div ng-show="courseForm.times.$invalid && (courseForm.times.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.times.$error.required">课时单价是必填项</small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="max_student" class="col-sm-2 control-label">最大学生数<span style="color:red;">*</span></label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.max_student" name="max_student" id="max_student" class="form-control"
                               required/>
                        <div ng-show="courseForm.max_student.$invalid && (courseForm.max_student.$dirty || courseForm.$submitted)">
                            <small class="error" ng-show="courseForm.max_student.$error.required">最大学生数是必填项</small>
                        </div>
                    </div>
                </div>

                <!--<div class="form-group">-->
                    <!--<label for="hot_search" class="col-sm-2 control-label">搜索排行</label>-->
                    <!--<div class="col-sm-10">-->
                        <!--<input type="text" ng-model="course.hot_search" name="hot_search" id="hot_search" class="form-control"-->
                        <!--/>-->
                    <!--</div>-->
                <!--</div>-->
                <div class="form-group">
                    <label for="remark" class="col-sm-2 control-label">备注</label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="course.remark" name="remark" id="remark" class="form-control" maxlength="200"
                        />
                    </div>
                </div>

                <div class="form-group">

                    <label  class="col-sm-2 control-label">上传文件</label>
                    <div class="col-sm-4">
                        <input type="file" upload-image="myFile" class="form-control">
                    </div>
                    <img  ng-src="{{course.image}}" width="110px" height="110px" alt="">
                </div>
                <div class="form-group">
                    <label for="lessonTime" class="col-sm-2 control-label">上课时间</label>
                    <div class="col-sm-6">
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th></th>
                                <th>周一</th><th>周二</th><th>周三</th><th>周四</th><th>周五</th><th>周六</th><th>周日</th>

                            </tr>
                            <tbody>
                            <tr ng-repeat="lessonTime in lessonTimeArray">
                                <td>{{lessonTime.timeRange}}</td>
                                <td class="lessonTime-{{lessonTime.day1}}" ng-click="selectTime($index,1)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day2}}" ng-click="selectTime($index,2)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day3}}" ng-click="selectTime($index,3)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day4}}" ng-click="selectTime($index,4)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day5}}" ng-click="selectTime($index,5)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day6}}" ng-click="selectTime($index,6)"><div  ></div></td>
                                <td class="lessonTime-{{lessonTime.day7}}" ng-click="selectTime($index,7)"><div  ></div></td>
                            </tr>
                        </tbody>
                            </thead>

                        </table>
                    </div>
                    <div class="col-sm-4">
                        <div class="">
                            <div class="lessonTime-selectable lessonTimeBlock" ></div>
                            <span class="">可选时间</span>
                        </div>

                        <div class="">
                            <div class="lessonTime-hasSelected lessonTimeBlock"></div>
                            <span class="">已选时间</span>
                        </div>
                        <div class="">
                            <div class="lessonTime-teacherFree lessonTimeBlock"></div>
                            <span class="">老师空闲时间（也可选）</span>
                        </div>
                        </p>
                    </div>
                </div>
                <!--<div class="form-group">
                    <div class="col-sm-2">
                        <button type="button" class="btn btn-default pull-right" ng-click="addClassTime()">添加课时</button>
                    </div>
                </div>
                <div >
                    <div   ng-repeat="classTime in course.class_list" style="padding-bottom: 20px;">
                        <div  style="position:relative">
                            <div class="form-group">
                                <label for="class_name" class="col-sm-2 control-label">课时名称<span style="color:red;">*</span></label>
                                <div class="col-sm-8">
                                    <input type="text" ng-model="classTime.class_name" name="class_name" id="class_name" class="form-control"
                                           required/>
                                    <div ng-show="courseForm.class_name.$invalid && (courseForm.class_name.$dirty || courseForm.$submitted)">
                                        <small class="error" ng-show="courseForm.class_name.$error.required">课时名称是必填项</small>
                                    </div>
                                </div>
                                </div>
                            <div class="dropdown form-group">
                                <label  class="col-sm-2 control-label">上课时间<span style="color:red;">*</span></label>
                                <a class="dropdown-toggle my-toggle-select" id="dLabel" role="button" data-toggle="dropdown" >
                                    <div class="col-sm-8">
                                        <input ng-model="classTime.class_time | date : 'yyyy-MM-dd HH:mm:ss'"  name="class_time" id="class_time_"+classTime.id class="form-control"
                                        required>
                                        <div ng-show="class_time.$invalid && (class_name.$dirty || courseForm.$submitted)">
                                            <small class="error" ng-show="class_name.$error.required">上课时间是必填项</small>
                                        </div>
                                    </div>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                    <datetimepicker data-ng-model="classTime.class_time"
                                                    data-datetimepicker-config="{ dropdownSelector: '#class_time_'+classTime.id }"></datetimepicker>
                                </ul>
                            </div>
                            <div class="form-group">
                                <label for="class_content" class="col-sm-2 control-label">课时内容<span style="color:red;">*</span></label>
                                <div class="col-sm-8">
                                    <textarea type="text" rows="4" ng-model="classTime.class_content" name="class_content" id="class_content" class="form-control" maxlength="200"></textarea>
                                </div>
                                <i class="glyphicon glyphicon-remove cursor" ng-click="removeClassTime($index)"  ng-show="classTime.id.indexOf('new')>-1" style="position:absolute;top:30px;left:20px;font-size: 40px" title="删除课时"></i>
                            </div>
                        </div>

                        </div>

                </div>-->

                <div class="form-group">
                    <div class="col-sm-10">
                        <button type="submit" class="btn btn-lg btn-primary pull-right" >提交</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>